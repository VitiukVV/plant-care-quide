import{q as B,k as D,y as R,j as o,t as E,R as K,e as j,S as F,U as N,a as f,r as p,_ as P,V as ae,f as J,h as H,l as ie,W as z,E as $,X as le,Y as _,Z as ce,v as Q,J as ue,$ as de,a0 as pe}from"./index-D2qZyw91.js";import{u as U,c as fe,B as V,T as ee,p as ge}from"./serviceAPI-jeoLW-UZ.js";import"./axios-Bo0ATomq.js";function me(e){return D("MuiAlert",e)}const ve=B("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),X=ve,he=R(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),xe=R(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Ce=R(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ye=R(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),be=R(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ke=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Se=fe(),Ee=e=>{const{variant:n,color:r,severity:t,classes:a}=e,c={root:["root",`color${j(r||t)}`,`${n}${j(r||t)}`,`${n}`],icon:["icon"],message:["message"],action:["action"]};return H(c,me,a)},Me=E(K,{name:"MuiAlert",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,n[r.variant],n[`${r.variant}${j(r.color||r.severity)}`]]}})(({theme:e})=>{const n=e.palette.mode==="light"?F:N,r=e.palette.mode==="light"?N:F;return f({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{colorSeverity:t,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:n(e.palette[t].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${t}StandardBg`]:r(e.palette[t].light,.9),[`& .${X.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{colorSeverity:t,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:n(e.palette[t].light,.6),border:`1px solid ${(e.vars||e).palette[t].light}`,[`& .${X.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(([,t])=>t.main&&t.dark).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:f({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})}))]})}),je=E("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,n)=>n.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ae=E("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,n)=>n.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Y=E("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,n)=>n.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),G={success:o.jsx(he,{fontSize:"inherit"}),warning:o.jsx(xe,{fontSize:"inherit"}),error:o.jsx(Ce,{fontSize:"inherit"}),info:o.jsx(ye,{fontSize:"inherit"})},Re=p.forwardRef(function(n,r){const t=Se({props:n,name:"MuiAlert"}),{action:a,children:c,className:x,closeText:g="Close",color:h,components:m={},componentsProps:v={},icon:i,iconMapping:S=G,onClose:b,role:u="alert",severity:d="success",slotProps:y={},slots:s={},variant:l="standard"}=t,C=P(t,ke),k=f({},t,{color:h,severity:d,variant:l,colorSeverity:h||d}),M=Ee(k),w={slots:f({closeButton:m.CloseButton,closeIcon:m.CloseIcon},s),slotProps:f({},v,y)},[A,L]=U("closeButton",{elementType:ae,externalForwardedProps:w,ownerState:k}),[O,I]=U("closeIcon",{elementType:be,externalForwardedProps:w,ownerState:k});return o.jsxs(Me,f({role:u,elevation:0,ownerState:k,className:J(M.root,x),ref:r},C,{children:[i!==!1?o.jsx(je,{ownerState:k,className:M.icon,children:i||S[d]||G[d]}):null,o.jsx(Ae,{ownerState:k,className:M.message,children:c}),a!=null?o.jsx(Y,{ownerState:k,className:M.action,children:a}):null,a==null&&b?o.jsx(Y,{ownerState:k,className:M.action,children:o.jsx(A,f({size:"small","aria-label":g,title:g,color:"inherit",onClick:b},L,{children:o.jsx(O,f({fontSize:"small"},I))}))}):null]}))}),we=Re;function Z(e){return e.substring(2).toLowerCase()}function Pe(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Le(e){const{children:n,disableReactTree:r=!1,mouseEvent:t="onClick",onClickAway:a,touchEvent:c="onTouchEnd"}=e,x=p.useRef(!1),g=p.useRef(null),h=p.useRef(!1),m=p.useRef(!1);p.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const v=ie(n.ref,g),i=z(u=>{const d=m.current;m.current=!1;const y=$(g.current);if(!h.current||!g.current||"clientX"in u&&Pe(u,y))return;if(x.current){x.current=!1;return}let s;u.composedPath?s=u.composedPath().indexOf(g.current)>-1:s=!y.documentElement.contains(u.target)||g.current.contains(u.target),!s&&(r||!d)&&a(u)}),S=u=>d=>{m.current=!0;const y=n.props[u];y&&y(d)},b={ref:v};return c!==!1&&(b[c]=S(c)),p.useEffect(()=>{if(c!==!1){const u=Z(c),d=$(g.current),y=()=>{x.current=!0};return d.addEventListener(u,i),d.addEventListener("touchmove",y),()=>{d.removeEventListener(u,i),d.removeEventListener("touchmove",y)}}},[i,c]),t!==!1&&(b[t]=S(t)),p.useEffect(()=>{if(t!==!1){const u=Z(t),d=$(g.current);return d.addEventListener(u,i),()=>{d.removeEventListener(u,i)}}},[i,t]),o.jsx(p.Fragment,{children:p.cloneElement(n,b)})}function Oe(e={}){const{autoHideDuration:n=null,disableWindowBlurListener:r=!1,onClose:t,open:a,resumeHideDuration:c}=e,x=le();p.useEffect(()=>{if(!a)return;function s(l){l.defaultPrevented||(l.key==="Escape"||l.key==="Esc")&&(t==null||t(l,"escapeKeyDown"))}return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[a,t]);const g=z((s,l)=>{t==null||t(s,l)}),h=z(s=>{!t||s==null||x.start(s,()=>{g(null,"timeout")})});p.useEffect(()=>(a&&h(n),x.clear),[a,n,h,x]);const m=s=>{t==null||t(s,"clickaway")},v=x.clear,i=p.useCallback(()=>{n!=null&&h(c??n*.5)},[n,c,h]),S=s=>l=>{const C=s.onBlur;C==null||C(l),i()},b=s=>l=>{const C=s.onFocus;C==null||C(l),v()},u=s=>l=>{const C=s.onMouseEnter;C==null||C(l),v()},d=s=>l=>{const C=s.onMouseLeave;C==null||C(l),i()};return p.useEffect(()=>{if(!r&&a)return window.addEventListener("focus",i),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",i),window.removeEventListener("blur",v)}},[r,a,i,v]),{getRootProps:(s={})=>{const l=f({},_(e),_(s));return f({role:"presentation"},s,l,{onBlur:S(l),onFocus:b(l),onMouseEnter:u(l),onMouseLeave:d(l)})},onClickAway:m}}function Ie(e){return D("MuiSnackbarContent",e)}B("MuiSnackbarContent",["root","message","action"]);const Te=["action","className","message","role"],$e=e=>{const{classes:n}=e;return H({root:["root"],action:["action"],message:["message"]},Ie,n)},ze=E(K,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,n)=>n.root})(({theme:e})=>{const n=e.palette.mode==="light"?.8:.98,r=ce(e.palette.background.default,n);return f({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Be=E("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,n)=>n.message})({padding:"8px 0"}),De=E("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,n)=>n.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),He=p.forwardRef(function(n,r){const t=Q({props:n,name:"MuiSnackbarContent"}),{action:a,className:c,message:x,role:g="alert"}=t,h=P(t,Te),m=t,v=$e(m);return o.jsxs(ze,f({role:g,square:!0,elevation:6,className:J(v.root,c),ownerState:m,ref:r},h,{children:[o.jsx(Be,{className:v.message,ownerState:m,children:x}),a?o.jsx(De,{className:v.action,ownerState:m,children:a}):null]}))}),We=He;function Fe(e){return D("MuiSnackbar",e)}B("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Ne=["onEnter","onExited"],_e=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ue=e=>{const{classes:n,anchorOrigin:r}=e,t={root:["root",`anchorOrigin${j(r.vertical)}${j(r.horizontal)}`]};return H(t,Fe,n)},q=E("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,n[`anchorOrigin${j(r.anchorOrigin.vertical)}${j(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:n})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return f({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},n.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},n.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},n.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:f({},n.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},n.anchorOrigin.horizontal==="center"&&r,n.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},n.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Ve=p.forwardRef(function(n,r){const t=Q({props:n,name:"MuiSnackbar"}),a=ue(),c={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:x,anchorOrigin:{vertical:g,horizontal:h}={vertical:"bottom",horizontal:"left"},autoHideDuration:m=null,children:v,className:i,ClickAwayListenerProps:S,ContentProps:b,disableWindowBlurListener:u=!1,message:d,open:y,TransitionComponent:s=pe,transitionDuration:l=c,TransitionProps:{onEnter:C,onExited:k}={}}=t,M=P(t.TransitionProps,Ne),w=P(t,_e),A=f({},t,{anchorOrigin:{vertical:g,horizontal:h},autoHideDuration:m,disableWindowBlurListener:u,TransitionComponent:s,transitionDuration:l}),L=Ue(A),{getRootProps:O,onClickAway:I}=Oe(f({},A)),[te,W]=p.useState(!0),ne=de({elementType:q,getSlotProps:O,externalForwardedProps:w,ownerState:A,additionalProps:{ref:r},className:[L.root,i]}),oe=T=>{W(!0),k&&k(T)},re=(T,se)=>{W(!1),C&&C(T,se)};return!y&&te?null:o.jsx(Le,f({onClickAway:I},S,{children:o.jsx(q,f({},ne,{children:o.jsx(s,f({appear:!0,in:y,timeout:l,direction:g==="top"?"down":"up",onEnter:re,onExited:oe},M,{children:v||o.jsx(We,f({message:d,action:x},b))}))}))}))}),Xe=Ve,Ye=()=>{const[e,n]=p.useState(null),[r,t]=p.useState(null),[a,c]=p.useState({open:!1,message:"",severity:"success"});function x(m){var i;const v=(i=m.target.files)==null?void 0:i.item(0);v&&(n(v),c({open:!0,message:"Your photo was uploaded!",severity:"success"}))}async function g(m){if(m.preventDefault(),!e){c({open:!0,message:"Please select an image file.",severity:"error"});return}new FormData().append("images",e);try{const i=await ge(e),{is_plant:S}=i;S?t(i):c({open:!0,message:"No plants on the photo.",severity:"error"})}catch(i){c({open:!0,message:`Error: ${i}`,severity:"error"})}}const h=()=>{c({open:!1,message:a.message,severity:a.severity})};return o.jsxs(o.Fragment,{children:[o.jsxs("form",{onSubmit:g,style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",width:"100%"},children:[o.jsxs("label",{htmlFor:"upload",children:[o.jsx("input",{type:"file",onChange:x,style:{display:"none"},id:"upload"}),o.jsx(V,{color:"primary",variant:"contained",component:"span",sx:{color:"#fff",marginBottom:"10px"},children:"Upload a photo"})]}),o.jsx(V,{type:"submit",color:"primary",variant:"contained",component:"button",sx:{color:"#fff",marginBottom:"10px"},children:"Identify My Plant!"})]}),o.jsx("div",{children:r?o.jsxs(ee,{align:"center",variant:"h4",children:["Your plant name is ",r.suggestions[0].plant_name,o.jsx("img",{src:r.images[0].url,alt:r.suggestions[0].plant_name})]}):null}),o.jsx(Xe,{open:a.open,autoHideDuration:4e3,onClose:h,anchorOrigin:{vertical:"top",horizontal:"center"},children:o.jsx(we,{onClose:h,severity:a.severity,children:a.message})})]})},Ke=()=>o.jsxs("section",{style:{maxWidth:"95%",width:"500px",display:"flex",flexDirection:"column",alignItems:"center",gap:"25px"},children:[o.jsx(ee,{align:"center",variant:"h4",children:"Plants identification"}),o.jsx(Ye,{})]});export{Ke as default};
